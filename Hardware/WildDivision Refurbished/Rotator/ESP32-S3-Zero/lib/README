
# ESP32C3 Super Mini - –°–∏—Å—Ç–µ–º–∞ –ö–æ–Ω—Ç—Ä–æ–ª—é –ö—É—Ç–∞

## üìã –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É

–°–∏—Å—Ç–µ–º–∞ —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –∫—É—Ç–∞ –æ–±–µ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ –±–∞–∑—ñ ESP32-C3 SuperMini –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –¥–∞—Ç—á–∏–∫–∞ MT6701 —Ç–∞ –¥—Ä–∞–π–≤–µ—Ä–∞ –º–æ—Ç–æ—Ä–∞ DRV8871. –°–∏—Å—Ç–µ–º–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø—Ä–µ—Ü–∏–∑—ñ–π–Ω–µ –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º PID-—Ä–µ–≥—É–ª—é–≤–∞–Ω–Ω—è–º —Ç–∞ –∑–∞—Ö–∏—Å—Ç–æ–º –≤—ñ–¥ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–æ–≥–æ —Ä—É—Ö—É.

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å–∏—Å—Ç–µ–º–∏

### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–¥—É–ª—ñ:
- **AngleController** - –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –∫—É—Ç–∞ –∑ PID-—Ä–µ–≥—É–ª—é–≤–∞–Ω–Ω—è–º —Ç–∞ —Å–∏—Å—Ç–µ–º–æ—é –¥–æ–∑–≤–æ–ª—ñ–≤
- **SerialProcessor** - –æ–±—Ä–æ–±–Ω–∏–∫ —Å–µ—Ä—ñ–π–Ω–∏—Ö –∫–æ–º–∞–Ω–¥ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –ø–æ—Ä—Ç—ñ–≤
- **MT6701** - –¥—Ä–∞–π–≤–µ—Ä –¥–∞—Ç—á–∏–∫–∞ –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –∫—É—Ç–∞ (I2C)
- **DRV8871** - –¥—Ä–∞–π–≤–µ—Ä –º–æ—Ç–æ—Ä–∞ –∑ PWM-–∫–µ—Ä—É–≤–∞–Ω–Ω—è–º
- **ESP32LED** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω–∏–º LED

### –ê–ø–∞—Ä–∞—Ç–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è:
- **ESP32-C3 SuperMini** - –æ—Å–Ω–æ–≤–Ω–∏–π –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä
- **MT6701** - –º–∞–≥–Ω—ñ—Ç–Ω–∏–π –¥–∞—Ç—á–∏–∫ –∫—É—Ç–∞ (14-–±—ñ—Ç, I2C)
- **DRV8871** - –¥—Ä–∞–π–≤–µ—Ä –º–æ—Ç–æ—Ä–∞ (–¥–æ 45V, 3.6A)
- **DC –º–æ—Ç–æ—Ä** –∑ —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–º

## üîå –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

### –ü—ñ–Ω–∏ ESP32-C3:
```
MT6701 –¥–∞—Ç—á–∏–∫ –∫—É—Ç–∞:
- SDA ‚Üí GPIO1
- SCL ‚Üí GPIO0

DRV8871 –º–æ—Ç–æ—Ä:
- IN1 ‚Üí GPIO7 (–∞–±–æ GPIO6)
- IN2 ‚Üí GPIO6 (–∞–±–æ GPIO7)

LED —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä:
- –í–±—É–¥–æ–≤–∞–Ω–∏–π LED ‚Üí GPIO8
```

### –°–µ—Ä—ñ–π–Ω—ñ –ø–æ—Ä—Ç–∏:
- **USB Serial** - –æ—Å–Ω–æ–≤–Ω–∏–π (–Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è —Ç–∞ –∫–æ–º–∞–Ω–¥–∏)
- **RS485** - GPIO7/GPIO8 (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

## üì° –ü—Ä–æ—Ç–æ–∫–æ–ª –∫–æ–º–∞–Ω–¥

### –§–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥:
–ö–æ–º–∞–Ω–¥–∏ —Ä–æ–∑–¥—ñ–ª—è—é—Ç—å—Å—è —Å–∏–º–≤–æ–ª–æ–º `;` —Ç–∞ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è `\n`

### –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥:

#### –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Ä—É—Ö–æ–º:
- `$SAZ,—É–≥–æ–ª` - –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∞–∑–∏–º—É—Ç (–ø—Ä–∏–∫–ª–∞–¥: `$SAZ,90`)
- `$ENBL` - –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —Ä—É—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—É
- `$DSBL` - –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ —Ä—É—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—É

#### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:
- `$GAZ` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π –∞–∑–∏–º—É—Ç
- `$GET` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫—É—Ç–∏ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- `$GENBL` - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω –¥–æ–∑–≤–æ–ª—É —Ä—É—Ö—É

#### –ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è:
- `$SCRR,–∑–Ω–∞—á–µ–Ω–Ω—è` - –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø–æ–ø—Ä–∞–≤–∫—É –¥–∞—Ç—á–∏–∫–∞
- `$GCRR` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–ø—Ä–∞–≤–∫—É –¥–∞—Ç—á–∏–∫–∞

#### –ü—Ä–∏–∫–ª–∞–¥–∏:
```
$ENBL;$SAZ,45     ‚Üí –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —Ä—É—Ö —Ç–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –Ω–∞ 45¬∞
$GAZ;$GCRR        ‚Üí –æ—Ç—Ä–∏–º–∞—Ç–∏ –∞–∑–∏–º—É—Ç —Ç–∞ –ø–æ–ø—Ä–∞–≤–∫—É
$SCRR,5;$GET      ‚Üí –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø–æ–ø—Ä–∞–≤–∫—É +5¬∞ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–∞–Ω
```

## üîí –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–ø–µ–∫–∏

### –î–æ–∑–≤–æ–ª–∏ —Ä—É—Ö—É:
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫—É —Ä—É—Ö **–ó–ê–ë–û–†–û–ù–ï–ù–û** –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –ö–æ–º–∞–Ω–¥–∞ `$ENBL` –¥–æ–∑–≤–æ–ª—è—î —Ä—É—Ö
- –ö–æ–º–∞–Ω–¥–∞ `$DSBL` –∑—É–ø–∏–Ω—è—î —Ç–∞ –∑–∞–±–æ—Ä–æ–Ω—è—î —Ä—É—Ö
- –í—Å—ñ –∫–æ–º–∞–Ω–¥–∏ —Ä—É—Ö—É –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –¥–æ–∑–≤—ñ–ª

### –ó–∞—Ö–∏—Å—Ç:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑—É–ø–∏–Ω–∫–∞ –ø—Ä–∏ –≤—Ç—Ä–∞—Ç—ñ –¥–æ–∑–≤–æ–ª—É
- –û–±–º–µ–∂–µ–Ω–Ω—è –∫—É—Ç–∞: ¬±178¬∞
- –î–æ–ø—É—Å–∫ —Ç–æ—á–Ω–æ—Å—Ç—ñ: ¬±0.5¬∞
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è –≤ EEPROM

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞:
```cpp
float Tolerance = 0.5f;      // –¢–æ—á–Ω—ñ—Å—Ç—å –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è (¬∞)
float MinSpeed = 165.0f;     // –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å (0-255)
float MaxSpeed = 255.0f;     // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å (0-255)
float BreackAngle = 10.0f;   // –ö—É—Ç –ø–æ—á–∞—Ç–∫—É –≥–∞–ª—å–º—É–≤–∞–Ω–Ω—è (¬∞)
```

### –°–µ—Ä—ñ–π–Ω—ñ –ø–æ—Ä—Ç–∏:
```cpp
// USB Serial
Serial.begin(115200);

// RS485 Serial
HardwareSerial RS485Serial(1);
RS485Serial.begin(115200, SERIAL_8N1, RX_PIN, TX_PIN);
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
lib/
‚îú‚îÄ‚îÄ AngleController/     - –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –∫—É—Ç–∞ –∑ PID
‚îú‚îÄ‚îÄ SerialProcessor/     - –û–±—Ä–æ–±–Ω–∏–∫ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ MT6701/             - –î—Ä–∞–π–≤–µ—Ä –¥–∞—Ç—á–∏–∫–∞ –∫—É—Ç–∞
‚îú‚îÄ‚îÄ DRV8871/            - –î—Ä–∞–π–≤–µ—Ä –º–æ—Ç–æ—Ä–∞
‚îî‚îÄ‚îÄ ESP32LED/           - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è LED

examples/
‚îú‚îÄ‚îÄ main_usb_serial.cpp      - –ü—Ä–∏–∫–ª–∞–¥ –∑ USB
‚îú‚îÄ‚îÄ main_rs485_serial.cpp    - –ü—Ä–∏–∫–ª–∞–¥ –∑ RS485
‚îî‚îÄ‚îÄ main_switchable_serial.cpp - –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –ø–æ—Ä—Ç—ñ–≤

src/
‚îî‚îÄ‚îÄ main.cpp            - –û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

1. **–ü—ñ–¥–∫–ª—é—á—ñ—Ç—å –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è** –∑–≥—ñ–¥–Ω–æ —Å—Ö–µ–º–∏
2. **–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –ø—Ä–æ—à–∏–≤–∫—É** —á–µ—Ä–µ–∑ PlatformIO
3. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ Serial Monitor** (115200 baud)
4. **–î–∞–π—Ç–µ –¥–æ–∑–≤—ñ–ª –Ω–∞ —Ä—É—Ö**: `$ENBL`
5. **–ü–æ–≤–µ—Ä–Ω—ñ—Ç—å –º–æ—Ç–æ—Ä**: `$SAZ,90`
6. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: `$GET`

## üìä –í—ñ–¥–ø–æ–≤—ñ–¥—ñ —Å–∏—Å—Ç–µ–º–∏

–§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ: `ANGLES,–∞–∑–∏–º—É—Ç,–ø–æ–ø—Ä–∞–≤–∫–∞,—Ä–µ–∑–µ—Ä–≤`

–ü—Ä–∏–∫–ª–∞–¥:
```
$GAZ,45
$GCRR,5
ANGLES,45.25,5.0,0
```

## üîß –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### –ö–æ–º–∞–Ω–¥–∏ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
- `$GET` - –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏
- `$GENBL` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–∑–≤–æ–ª—É —Ä—É—Ö—É
- `$GAZ` - –ø–æ—Ç–æ—á–Ω–∏–π –∫—É—Ç
- `$GCRR` - –ø–æ–ø—Ä–∞–≤–∫–∞ –∫–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è

### –Ü–Ω–¥–∏–∫–∞—Ü—ñ—è LED:
- **–£–≤—ñ–º–∫–Ω–µ–Ω–∏–π** - —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞—Ç—á–∏–∫–∞
- **–í–∏–º–∫–Ω–µ–Ω–∏–π** - —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

- –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø—ñ–Ω—ñ–≤ –ø—ñ—Å–ª—è –∑–∞–º—ñ–Ω–∏ –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞
- –Ø–∫—â–æ –º–æ—Ç–æ—Ä –æ–±–µ—Ä—Ç–∞—î—Ç—å—Å—è –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É —Å—Ç–æ—Ä–æ–Ω—É - –ø–æ–º—ñ–Ω—è–π—Ç–µ IN1/IN2 –º—ñ—Å—Ü—è–º–∏
- –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `$ENBL` –ø–µ—Ä–µ–¥ —Ä—É—Ö–æ–º
- –ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤ EEPROM

---
*–ü—Ä–æ–µ–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –∫—É—Ç–∞ –æ–±–µ—Ä—Ç–∞–Ω–Ω—è –∑ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—é –±–µ–∑–ø–µ–∫–æ—é —Ç–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—é.*
